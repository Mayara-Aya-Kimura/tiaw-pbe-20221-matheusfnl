let jogos = [
  rainbow_six = {
    nome: 'Tom Clancy`s Rainbow Six Siege',
    descricao: " ",
    avaliacao: './jogos/stay_close/stay_close_rate.png',
    img: '../jogo_page/imagens/cards_image/rb6.png',
    tag: ['fps', 'em-alta'],
    link: '../jogo_page/rb6.html',
  },
  fall_guys = {
    nome: 'Fall Guys: Ultimate Knockout',
    descricao: " ",
    avaliacao: './jogos/stay_close/stay_close_rate.png',
    img: '../jogo_page/imagens/cards_image/fallguys.jpg',
    tag: ['em-alta'],
    link: '../jogo_page/fallguys.html',
  },
  fortnite = {
    nome: 'Fortnite',
    descricao: " ",
    avaliacao: './jogos/stay_close/stay_close_rate.png',
    img: '../jogo_page/imagens/cards_image/fortnite.jpg',
    tag: ['fps', 'em-alta'],
    link: '../jogo_page/fortnite.html',
  },
  elden_ring = {
    nome: 'Elden Ring',
    descricao: " ",
    avaliacao: './jogos/stay_close/stay_close_rate.png',
    img: '../jogo_page/imagens/cards_image/eldenring.jpg',
    tag: ['em-alta', 'rpg'],
    link: '../jogo_page/eldenring.html',
  },
  osu = {
    nome: 'Osu!',
    descricao: " ",
    avaliacao: './jogos/stay_close/stay_close_rate.png',
    img: '../jogo_page/imagens/cards_image/osu.png',
    tag: ['ritmo', 'em-alta'],
    link: '../jogo_page/osu.html',
  },
  csgo = {
    nome: 'Counter-Strike: Global Offensive',
    descricao: " ",
    avaliacao: './jogos/stay_close/stay_close_rate.png',
    img: '../jogo_page/imagens/cards_image/csgo.jpg',
    tag: ['fps'],
    link: '../jogo_page/csgo.html',
  },
  csgo = {
    nome: 'Valorant',
    descricao: " ",
    avaliacao: './jogos/stay_close/stay_close_rate.png',
    img: '../jogo_page/imagens/cards_image/valorant.jpeg',
    tag: ['fps'],
    link: '../jogo_page/valorant.html',
  },
  cod_2 = {
    nome: 'Call of Duty: Black Ops II',
    descricao: " ",
    avaliacao: './jogos/stay_close/stay_close_rate.png',
    img: '../jogo_page/imagens/cards_image/cod.jpg',
    tag: ['fps'],
    link: '../jogo_page/cod.html',
  },
  halo_infinite = {
    nome: 'Halo Infinite',
    descricao: " ",
    avaliacao: './jogos/stay_close/stay_close_rate.png',
    img: '../jogo_page/imagens/cards_image/halo.jpg',
    tag: ['fps'],
    link: '../jogo_page/halo.html',
  },
  geometry_dash = {
    nome: 'Geometry Dash',
    descricao: " ",
    avaliacao: './jogos/stay_close/stay_close_rate.png',
    img: '../jogo_page/imagens/cards_image/geometry.jpg',
    tag: ['ritmo'],
    link: '../jogo_page/geometry.html',
  },
  muse_dash = {
    nome: 'Muse Dash',
    descricao: " ",
    avaliacao: './jogos/stay_close/stay_close_rate.png',
    img: '../jogo_page/imagens/cards_image/muse.jpg',
    tag: ['ritmo'],
    link: '../jogo_page/muse.html',
  },
  friday_night_funkin = {
    nome: 'Friday Night Funkin',
    descricao: " ",
    avaliacao: './jogos/stay_close/stay_close_rate.png',
    img: '../jogo_page/imagens/cards_image/friday.jpg',
    tag: ['ritmo'],
    link: '../jogo_page/friday.html',
  },
  friday_night_funkin = {
    nome: 'Crypt of the NecroDancer',
    descricao: " ",
    avaliacao: './jogos/stay_close/stay_close_rate.png',
    img: '../jogo_page/imagens/cards_image/crypt.jpg',
    tag: ['ritmo'],
    link: '../jogo_page/crypt.html',
  },
  metal_gear_solid_v = {
    nome: 'Metal Gear Solid V: The Phantom Pain',
    descricao: " ",
    avaliacao: './jogos/stay_close/stay_close_rate.png',
    img: '../jogo_page/imagens/cards_image/metalgear.jpg',
    tag: ['rpg'],
    link: '../jogo_page/metal-gear.html',
  },
  rdr2 = {
    nome: 'Red Dead Redemption 2',
    descricao: " ",
    avaliacao: './jogos/stay_close/stay_close_rate.png',
    img: '../jogo_page/imagens/cards_image/rdr2.png',
    tag: ['rpg'],
    link: '../jogo_page/rdr2.html',
  },
  horizon_zero_down = {
    nome: 'Horizon Zero Dawn',
    descricao: " ",
    avaliacao: './jogos/stay_close/stay_close_rate.png',
    img: '../jogo_page/imagens/cards_image/horizon.jpg',
    tag: ['rpg'],
    link: '../jogo_page/horizon.html',
  },
  fnaf_security_breach = {
    nome: "Five Nights at Freddy's Security Breach",
    descricao: " ",
    avaliacao: './jogos/stay_close/stay_close_rate.png',
    img: '../jogo_page/imagens/cards_image/fnaf-security-breach.jpg',
    tag: ['terror', 'em-alta'],
    link: '../jogo_page/fnaf-security-breach.html',
  },
  phasmophobia = {
    nome: "Phasmophobia",
    descricao: " ",
    avaliacao: './jogos/stay_close/stay_close_rate.png',
    img: '../jogo_page/imagens/cards_image/phasmophobia.jpg',
    tag: ['terror'],
    link: '../jogo_page/phasmophobia.html',
  },
  stay_close = {
    nome: "Stay Close",
    descricao: " ",
    avaliacao: './jogos/stay_close/phasmophobia.png',
    img: '../jogo_page/imagens/cards_image/stay_close.jpg',
    tag: ['terror'],
    link: '../jogo_page/stay-close.html',
  },
  resident_evil_7 = {
    nome: "Resident Evil 7: Biohazard",
    descricao: " ",
    avaliacao: './jogos/stay_close/phasmophobia.png',
    img: '../jogo_page/imagens/cards_image/resident_evil_7.jpg',
    tag: ['terror'],
    link: '../jogo_page/resident_evil_7.html',
  },
  inscryption = {
    nome: "Inscryption",
    descricao: " ",
    avaliacao: './jogos/stay_close/phasmophobia.png',
    img: '../jogo_page/imagens/cards_image/inscryption.jpg',
    tag: ['terror'],
    link: '../jogo_page/inscryption.html',
  },
  taiko_no_tatsujin = {
    nome: "Taiko no Tatsujin",
    descricao: " ",
    avaliacao: './jogos/stay_close/phasmophobia.png',
    img: '../jogo_page/imagens/cards_image/taiko-no-tatsujin.jpg',
    tag: ['ritmo'],
    link: '../jogo_page/taiko-no-tatsujin.html',
  },
  hollow_knight = {
    nome: "Hollow Knight",
    descricao: " ",
    avaliacao: './jogos/stay_close/phasmophobia.png',
    img: '../jogo_page/imagens/cards_image/hollow_knight.jpg',
    tag: ['metroidvania', 'rpg'],
    link: '../jogo_page/hollow_knight.html',
  },
  bloodstained = {
    nome: "Bloodstained: Ritual of the Night",
    descricao: " ",
    avaliacao: './jogos/stay_close/phasmophobia.png',
    img: '../jogo_page/imagens/cards_image/bloodstained.jpg',
    tag: ['metroidvania', 'rpg'],
    link: '../jogo_page/bloodstained.html',
  },
  ori = {
    nome: "Ori and the Will of the Wisps",
    descricao: " ",
    avaliacao: './jogos/stay_close/phasmophobia.png',
    img: '../jogo_page/imagens/cards_image/ori.jpg',
    tag: ['metroidvania'],
    link: '../jogo_page/ori.html',
  },
  blasphemous = {
    nome: "Blasphemous",
    descricao: " ",
    avaliacao: './jogos/stay_close/phasmophobia.png',
    img: '../jogo_page/imagens/cards_image/blasphemous.jpg',
    tag: ['metroidvania'],
    link: '../jogo_page/blasphemous.html',
  },
  ender_lilies = {
    nome: "ENDER LILIES: Quietus of the Knights",
    descricao: " ",
    avaliacao: './jogos/stay_close/phasmophobia.png',
    img: '../jogo_page/imagens/cards_image/ender_lilies.jpg',
    tag: ['metroidvania', 'rpg'],
    link: '../jogo_page/ender_lilies.html',
  },
]

const pesquisa = document.getElementById('pesquisa');
let timeout;

pesquisa.onkeydown = (event) => {
  const inputBox = document.getElementById('pesquisa');

  var key = event.keyCode || event.charCode;
  if( key == 8 && inputBox.value.length === 1 ){
    const previewJogos = document.getElementById('previewJogos');

    while(previewJogos.firstChild) { previewJogos.removeChild(previewJogos.lastChild) }
  }
}

pesquisa.addEventListener('keypress', () => {
  pesquisarJogos()
})

function pesquisarJogos() {
  clearTimeout(timeout);

  const inputBox = document.getElementById('pesquisa');
  const previewJogos = document.getElementById('previewJogos');

  while(previewJogos.firstChild) { previewJogos.removeChild(previewJogos.lastChild) }

  timeout = setTimeout(() => {
    if(inputBox.value.replace(/\s/g, '').length) {
      jogos.forEach(jogo => {
        if(jogo.nome.toLowerCase().includes(inputBox.value.toLowerCase())) {
          const colDiv = document.createElement('div');
          colDiv.classList.add('col-12')
          colDiv.classList.add('pointer')
          colDiv.classList.add('zindex1000')
  
          colDiv.innerHTML = `
            <div class="cardPreview" onclick="goToPage('${jogo.link}')">
              <img class="imgPreview" src="${jogo.img}">
              <h5 class="nomePreview">${jogo.nome}</h5>
            </div>
          `;
          previewJogos.appendChild(colDiv)
        }
      });
    }
  }, 450);
}

function goToPage(link) {
  window.location = link;
}

function removerJogos() {
  timeout = setInterval(() => {
    const previewJogos = document.getElementById('previewJogos');
  
    while(previewJogos.firstChild) { previewJogos.removeChild(previewJogos.lastChild) }
  }, 150);
}